#BASE IMAGE
FROM ubuntu:22.04

#ENVIRONMENT
ENV TZ=Etc/UTC
ENV CUBESQL_WEBADMIN_PORT=80
ENV CUBESQL_HOSTNAME=host.docker.internal
ENV CUBESQL_PORT=4430
ENV CUBESQL_ENCRYPTION=AES256
ENV CUBESQL_USERNAME=admin
ENV CUBESQL_PASSWORD=

#INSTALL REQUIRED LIBRARIES
ARG DEBIAN_FRONTEND=noninteractive
RUN apt-get update
RUN apt-get install -y \
		tzdata \
		libunwind8 \
		libglib2.0 \
		libsoup2.4-1

#ADD APPLICATION TO DOCKER IMAGE
ADD / /app/

#EXPOSE PORT AND RUN APPLICATION
EXPOSE $CUBESQL_WEBADMIN_PORT
WORKDIR /app
CMD /app/cubeSQLWebAdmin --Port=$CUBESQL_WEBADMIN_PORT